<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dashboard Flota Vehicular | Traxi√≥n</title>

<style>
*{margin:0;padding:0;box-sizing:border-box}
body{
    font-family:'Segoe UI',Tahoma,Verdana,sans-serif;
    background:#f3f4f6;
    color:#1f2937;
    min-height:100vh;
}

/* ===== NAVEGACI√ìN ===== */
nav{
    background:#1f2937;
    padding:15px 30px;
    display:flex;
    gap:25px;
    align-items:center;
    box-shadow:0 2px 8px rgba(0,0,0,0.1);
    flex-wrap:wrap;
}
nav > a{
    color:#e5e7eb;
    text-decoration:none;
    font-weight:600;
    padding:8px 16px;
    border-radius:8px;
    transition:all 0.3s;
    white-space:nowrap;
}
nav > a:first-child{
    color:#84cc16;
    font-weight:800;
    font-size:18px;
}
nav > a:hover{
    background:#374151;
}

.dropdown{
    position:relative;
    display:inline-block;
}

.dropdown-toggle{
    color:#e5e7eb;
    text-decoration:none;
    font-weight:600;
    padding:8px 16px;
    border-radius:8px;
    transition:all 0.3s;
    cursor:pointer;
    display:flex;
    align-items:center;
    gap:6px;
    background:transparent;
    border:none;
    font-size:14px;
    font-family:inherit;
}

.dropdown-toggle:hover{
    background:#374151;
}

.dropdown-arrow{
    font-size:12px;
    transition:transform 0.3s;
}

.dropdown.open .dropdown-arrow{
    transform:rotate(180deg);
}

.dropdown-menu{
    display:none;
    position:absolute;
    top:100%;
    left:0;
    background:#374151;
    min-width:220px;
    border-radius:8px;
    box-shadow:0 4px 12px rgba(0,0,0,0.3);
    margin-top:8px;
    z-index:1000;
    overflow:hidden;
}

.dropdown.open .dropdown-menu{
    display:block;
}

.dropdown-menu a{
    display:block;
    padding:12px 20px;
    color:#e5e7eb;
    text-decoration:none;
    font-weight:600;
    transition:all 0.3s;
}

.dropdown-menu a:hover{
    background:#4b5563;
    padding-left:25px;
}

.dropdown-menu a.active{
    background:#84cc16;
    color:#1f2937;
}

/* ===== CONTENIDO ===== */
.content{
    padding:30px;
    max-width:1800px;
    margin:0 auto;
}

header{
    background:linear-gradient(135deg,#1f2937,#374151);
    padding:30px;
    border-radius:14px;
    margin-bottom:25px;
}
header h1{
    color:#84cc16;
    font-size:32px;
    margin-bottom:8px;
}
.subtitle{
    color:#d1d5db;
    font-size:16px;
}

/* ===== BUSCADOR ===== */
.search-section{
    background:#ffffff;
    padding:25px;
    border-radius:14px;
    margin-bottom:25px;
    box-shadow:0 2px 8px rgba(0,0,0,0.05);
}

.search-container{
    display:flex;
    gap:15px;
    align-items:center;
    flex-wrap:wrap;
}

.search-container label{
    font-weight:700;
    color:#374151;
    font-size:16px;
}

.search-container input{
    flex:1;
    min-width:250px;
    padding:12px 18px;
    border:2px solid #d1d5db;
    border-radius:10px;
    font-size:15px;
    transition:all 0.3s;
}

.search-container input:focus{
    outline:none;
    border-color:#84cc16;
    box-shadow:0 0 0 3px rgba(132,204,22,0.1);
}

.search-container button{
    padding:12px 30px;
    background:#84cc16;
    color:#1f2937;
    border:none;
    border-radius:10px;
    font-weight:700;
    font-size:15px;
    cursor:pointer;
    transition:all 0.3s;
}

.search-container button:hover{
    background:#65a30d;
    transform:translateY(-2px);
    box-shadow:0 4px 12px rgba(132,204,22,0.3);
}

.search-result{
    margin-top:20px;
    padding:20px;
    background:#f0fdf4;
    border-left:4px solid #84cc16;
    border-radius:8px;
    display:none;
}

.search-result.show{
    display:block;
}

.search-result.error{
    background:#fef2f2;
    border-left-color:#ef4444;
}

.search-result h3{
    color:#1f2937;
    margin-bottom:10px;
    font-size:18px;
}

.search-result-details{
    display:grid;
    grid-template-columns:repeat(auto-fit, minmax(200px, 1fr));
    gap:12px;
    margin-top:15px;
}

.search-result-item{
    display:flex;
    flex-direction:column;
}

.search-result-item strong{
    color:#6b7280;
    font-size:12px;
    text-transform:uppercase;
    margin-bottom:4px;
}

.search-result-item span{
    color:#1f2937;
    font-size:15px;
    font-weight:600;
}

/* ===== KPIs ===== */
.kpis-container{
    display:grid;
    grid-template-columns:repeat(auto-fit, minmax(200px, 1fr));
    gap:20px;
    margin-bottom:25px;
}

.kpi-card{
    background:#ffffff;
    padding:25px;
    border-radius:14px;
    box-shadow:0 2px 8px rgba(0,0,0,0.05);
    transition:all 0.3s;
    border-left:5px solid transparent;
}

.kpi-card:hover{
    transform:translateY(-5px);
    box-shadow:0 8px 16px rgba(0,0,0,0.1);
}

.kpi-card.total{
    border-left-color:#84cc16;
    background:linear-gradient(135deg, #ffffff, #f0fdf4);
}

.kpi-card.operando{
    border-left-color:#3b82f6;
}

.kpi-card.mantenimiento{
    border-left-color:#f59e0b;
}

.kpi-card.ineficiencia{
    border-left-color:#ef4444;
}

.kpi-card.taller{
    border-left-color:#8b5cf6;
}

.kpi-card.corralon{
    border-left-color:#6b7280;
}

.kpi-label{
    font-size:13px;
    color:#6b7280;
    text-transform:uppercase;
    font-weight:700;
    margin-bottom:8px;
    letter-spacing:0.5px;
}

.kpi-value{
    font-size:36px;
    font-weight:800;
    color:#1f2937;
    line-height:1;
}

.kpi-icon{
    font-size:24px;
    margin-bottom:10px;
}

/* ===== TABLA ===== */
.table-section{
    background:#ffffff;
    padding:25px;
    border-radius:14px;
    box-shadow:0 2px 8px rgba(0,0,0,0.05);
    overflow-x:auto;
}

.table-section h2{
    color:#1f2937;
    font-size:24px;
    margin-bottom:20px;
    padding-bottom:15px;
    border-bottom:3px solid #84cc16;
}

/* ===== FILTROS ===== */
.filters-container{
    display:flex;
    gap:15px;
    margin-bottom:20px;
    flex-wrap:wrap;
    align-items:center;
}

.filter-group{
    display:flex;
    flex-direction:column;
    gap:5px;
}

.filter-group label{
    font-size:12px;
    font-weight:700;
    color:#6b7280;
    text-transform:uppercase;
}

.filter-group select{
    padding:8px 12px;
    border:2px solid #d1d5db;
    border-radius:8px;
    font-size:14px;
    min-width:150px;
    cursor:pointer;
    transition:all 0.3s;
}

.filter-group select:focus{
    outline:none;
    border-color:#84cc16;
}

.btn-reset{
    padding:8px 20px;
    background:#ef4444;
    color:#ffffff;
    border:none;
    border-radius:8px;
    font-weight:700;
    cursor:pointer;
    margin-top:18px;
    transition:all 0.3s;
}

.btn-reset:hover{
    background:#dc2626;
}

table{
    width:100%;
    border-collapse:collapse;
    font-size:14px;
}

thead{
    background:#1f2937;
    color:#ffffff;
    position:sticky;
    top:0;
    z-index:10;
}

thead th{
    padding:15px 12px;
    text-align:left;
    font-weight:700;
    text-transform:uppercase;
    font-size:12px;
    letter-spacing:0.5px;
    white-space:nowrap;
}

tbody tr{
    border-bottom:1px solid #e5e7eb;
    transition:all 0.2s;
}

tbody tr:hover{
    background:#f9fafb;
}

tbody td{
    padding:15px 12px;
    color:#374151;
}

.status-badge{
    display:inline-block;
    padding:6px 12px;
    border-radius:20px;
    font-size:12px;
    font-weight:700;
    text-align:center;
    white-space:nowrap;
}

.status-operando{
    background:#dbeafe;
    color:#1e40af;
}

.status-mantenimiento{
    background:#fef3c7;
    color:#92400e;
}

.status-ineficiencia{
    background:#fee2e2;
    color:#991b1b;
}

.status-taller{
    background:#ede9fe;
    color:#5b21b6;
}

.status-corralon{
    background:#f3f4f6;
    color:#374151;
}

.table-stats{
    margin-top:20px;
    padding:15px;
    background:#f9fafb;
    border-radius:8px;
    display:flex;
    justify-content:space-between;
    align-items:center;
    flex-wrap:wrap;
    gap:10px;
}

.table-stats strong{
    color:#1f2937;
    font-size:14px;
}

@media (max-width: 768px){
    .content{
        padding:15px;
    }
    header{
        padding:20px;
    }
    header h1{
        font-size:24px;
    }
    .kpis-container{
        grid-template-columns:repeat(auto-fit, minmax(150px, 1fr));
        gap:15px;
    }
    .kpi-value{
        font-size:28px;
    }
    .search-container{
        flex-direction:column;
        align-items:stretch;
    }
    .search-container input{
        min-width:100%;
    }
    table{
        font-size:12px;
    }
    thead th, tbody td{
        padding:10px 8px;
    }
}
</style>
</head>

<body>

<!-- ===== NAVEGACI√ìN ===== -->
<nav>
    <a href="index.html">üöõ TRAXI√ìN</a>
    
    <div class="dropdown" id="dropdownLogistica">
        <button class="dropdown-toggle" onclick="toggleDropdown('dropdownLogistica')">
            üì¶ Log√≠stica <span class="dropdown-arrow">‚ñº</span>
        </button>
        <div class="dropdown-menu">
            <a href="dashboard_kilometros.html">üìä Kil√≥metros</a>
            <a href="dashboard_flota.html" class="active">üöó Flota</a>
            <a href="dashboard_difkm.html">üìè Dif Km cargas vs GPS</a>
            <a href="dashboard_NS.html">üìà Nivel de Servicio</a>
        </div>
    </div>
    
    <div class="dropdown" id="dropdownSeguridad">
        <button class="dropdown-toggle" onclick="toggleDropdown('dropdownSeguridad')">
            üõ°Ô∏è Seguridad Vial <span class="dropdown-arrow">‚ñº</span>
        </button>
        <div class="dropdown-menu">
            <a href="dashboard_scoreseg.html">‚ö†Ô∏è Score de Seguridad</a>
        </div>
    </div>
</nav>

<!-- ===== CONTENIDO ===== -->
<main class="content">

    <header>
        <h1>Dashboard de Flota Vehicular</h1>
        <p class="subtitle">Gesti√≥n y monitoreo integral de veh√≠culos - Datos en tiempo real</p>
    </header>

    <!-- ===== BUSCADOR ===== -->
    <section class="search-section">
        <div class="search-container">
            <label>üîç Buscar Veh√≠culo:</label>
            <input type="text" id="searchInput" placeholder="Ingresa el Vehicle ID (ejemplo: 5002, 4815, 5495...)">
            <button onclick="searchVehicle()">Buscar</button>
        </div>
        
        <div id="searchResult" class="search-result">
            <h3 id="resultTitle"></h3>
            <div id="resultDetails" class="search-result-details"></div>
        </div>
    </section>

    <!-- ===== KPIs ===== -->
    <div class="kpis-container">
        <div class="kpi-card total">
            <div class="kpi-icon">üöó</div>
            <div class="kpi-label">Total de Veh√≠culos</div>
            <div class="kpi-value" id="kpiTotal">0</div>
        </div>

        <div class="kpi-card operando">
            <div class="kpi-icon">‚úÖ</div>
            <div class="kpi-label">Operando</div>
            <div class="kpi-value" id="kpiOperando">0</div>
        </div>

        <div class="kpi-card mantenimiento">
            <div class="kpi-icon">üîß</div>
            <div class="kpi-label">Mantenimiento</div>
            <div class="kpi-value" id="kpiMantenimiento">0</div>
        </div>

        <div class="kpi-card ineficiencia">
            <div class="kpi-icon">‚ö†Ô∏è</div>
            <div class="kpi-label">Ineficiencias</div>
            <div class="kpi-value" id="kpiIneficiencia">0</div>
        </div>

        <div class="kpi-card taller">
            <div class="kpi-icon">üè≠</div>
            <div class="kpi-label">Taller Externo</div>
            <div class="kpi-value" id="kpiTaller">0</div>
        </div>

        <div class="kpi-card corralon">
            <div class="kpi-icon">üÖøÔ∏è</div>
            <div class="kpi-label">Corral√≥n</div>
            <div class="kpi-value" id="kpiCorralon">0</div>
        </div>
    </div>

    <!-- ===== TABLA ===== -->
    <section class="table-section">
        <h2>üìã Detalle de Flota Vehicular</h2>
        
        <!-- FILTROS -->
        <div class="filters-container">
            <div class="filter-group">
                <label>Cliente</label>
                <select id="filterCliente" onchange="applyFilters()">
                    <option value="">Todos</option>
                </select>
            </div>
            
            <div class="filter-group">
                <label>Marca</label>
                <select id="filterMarca" onchange="applyFilters()">
                    <option value="">Todas</option>
                </select>
            </div>
            
            <div class="filter-group">
                <label>Modelo</label>
                <select id="filterModelo" onchange="applyFilters()">
                    <option value="">Todos</option>
                </select>
            </div>
            
            <div class="filter-group">
                <label>Status</label>
                <select id="filterStatus" onchange="applyFilters()">
                    <option value="">Todos</option>
                    <option value="Operando">Operando</option>
                    <option value="Mantenimiento">Mantenimiento</option>
                    <option value="Ineficiencias">Ineficiencias</option>
                    <option value="Taller Externo">Taller Externo</option>
                    <option value="Corralon">Corral√≥n</option>
                </select>
            </div>
            
            <div class="filter-group">
                <label>A√±o</label>
                <select id="filterAno" onchange="applyFilters()">
                    <option value="">Todos</option>
                </select>
            </div>
            
            <button class="btn-reset" onclick="resetFilters()">Limpiar Filtros</button>
        </div>

        <table id="vehicleTable">
            <thead>
                <tr>
                    <th>Vehicle ID</th>
                    <th>Cliente</th>
                    <th>Comentario</th>
                    <th>N√∫mero de Chasis</th>
                    <th>Marca</th>
                    <th>Modelo</th>
                    <th>A√±o</th>
                    <th>Uso</th>
                    <th>Status</th>
                    <th>Aire Acond.</th>
                </tr>
            </thead>
            <tbody id="tableBody">
                <!-- Datos se llenar√°n con JavaScript -->
            </tbody>
        </table>
        
        <div class="table-stats">
            <strong>Mostrando <span id="rowCount">0</span> veh√≠culos</strong>
            <strong>√öltima actualizaci√≥n: <span id="lastUpdate"></span></strong>
        </div>
    </section>

</main>

<!-- ===== JAVASCRIPT ===== -->
<script>
// DATOS DE VEH√çCULOS (Basado en la imagen proporcionada)
const vehiclesData = [
    {id: 5002, cliente: "YF RAMOS", comentario: "", chasis: "3HBBZSEN4HL473727", marca: "International", modelo: "Zafiro", ano: 2017, uso: "Operaciones", status: "Operando", aire: "No"},
    {id: 4815, cliente: "CAPACITACION", comentario: "CAPACITACION", chasis: "3HBBZSEN5HL674360", marca: "International", modelo: "Zafiro", ano: 2017, uso: "Operaciones", status: "Operando", aire: "No"},
    {id: 5495, cliente: "TUPY RAMOS", comentario: "", chasis: "3HBBZSEN1JL065112", marca: "International", modelo: "Reco", ano: 2018, uso: "Operaciones", status: "Operando", aire: "No"},
    {id: 6128, cliente: "VASCOR", comentario: "", chasis: "3HBBZSEN8KL652523", marca: "International", modelo: "Reco", ano: 2019, uso: "Operaciones", status: "Operando", aire: "Si"},
    {id: 6472, cliente: "MAGNA CLOUSURES", comentario: "", chasis: "3HBBZSENMXL505923", marca: "International", modelo: "Zafiro", ano: 2019, uso: "Operaciones", status: "Operando", aire: "Si"},
    {id: 14016, cliente: "DAIMLER", comentario: "", chasis: "3MBAA2DP9RM080800", marca: "Mercedes", modelo: "Zafiro", ano: 2024, uso: "Operaciones", status: "Operando", aire: "Si"},
    {id: 13872, cliente: "MABE", comentario: "", chasis: "3MN2E82W7RD300069", marca: "Volkswagen", modelo: "Ayco", ano: 2024, uso: "Operaciones", status: "Operando", aire: "No"},
    {id: 15164, cliente: "JOHN DEERE", comentario: "", chasis: "3HBBZTBN5RL226647", marca: "International", modelo: "Zafiro", ano: 2024, uso: "Operaciones", status: "Operando", aire: "No"},
    {id: 2769, cliente: "DISPONIBLE", comentario: "DISPONIBLE", chasis: "3ADBZBJN5E5011994", marca: "Dina", modelo: "Runner 10", ano: 2014, uso: "Operaciones", status: "Mantenimiento", aire: "No"},
    {id: 2767, cliente: "GANFER SALTILLO", comentario: "", chasis: "3ADBZBJN5E5011992", marca: "Dina", modelo: "Runner 10", ano: 2014, uso: "Operaciones", status: "Operando", aire: "No"},
    {id: 5003, cliente: "MAGNA CLOUSURES", comentario: "", chasis: "3HBBZSEN6HL473728", marca: "International", modelo: "Zafiro", ano: 2017, uso: "Operaciones", status: "Mantenimiento", aire: "Si"},
    {id: 4816, cliente: "TUPY RAMOS", comentario: "", chasis: "3HBBZSEN7HL674361", marca: "International", modelo: "Zafiro", ano: 2017, uso: "Operaciones", status: "Taller Externo", aire: "No"},
    {id: 5496, cliente: "VASCOR", comentario: "", chasis: "3HBBZSEN3JL065113", marca: "International", modelo: "Reco", ano: 2018, uso: "Operaciones", status: "Ineficiencias", aire: "Si"},
    {id: 6129, cliente: "YF RAMOS", comentario: "", chasis: "3HBBZSENXKL652524", marca: "International", modelo: "Reco", ano: 2019, uso: "Operaciones", status: "Corralon Grave", aire: "No"},
    {id: 6473, cliente: "DAIMLER", comentario: "", chasis: "3HBBZSEN0XL505924", marca: "International", modelo: "Zafiro", ano: 2019, uso: "Operaciones", status: "Corralon Media", aire: "Si"}
];

// MAPEO DE STATUS
const statusMapping = {
    "Operando": "Operando",
    "Mantenimiento": "Mantenimiento",
    "Alto Rezago Mantenimiento": "Mantenimiento",
    "Ineficiencias": "Ineficiencias",
    "Taller Externo": "Taller Externo",
    "Corralon Grave": "Corralon",
    "Corralon Media": "Corralon"
};

let filteredData = [...vehiclesData];

// INICIALIZAR
function init() {
    populateFilters();
    renderTable(vehiclesData);
    updateKPIs(vehiclesData);
    updateLastUpdate();
}

// ACTUALIZAR KPIs
function updateKPIs(data) {
    const total = data.length;
    const operando = data.filter(v => statusMapping[v.status] === "Operando").length;
    const mantenimiento = data.filter(v => statusMapping[v.status] === "Mantenimiento").length;
    const ineficiencia = data.filter(v => statusMapping[v.status] === "Ineficiencias").length;
    const taller = data.filter(v => statusMapping[v.status] === "Taller Externo").length;
    const corralon = data.filter(v => statusMapping[v.status] === "Corralon").length;
    
    document.getElementById('kpiTotal').textContent = total;
    document.getElementById('kpiOperando').textContent = operando;
    document.getElementById('kpiMantenimiento').textContent = mantenimiento;
    document.getElementById('kpiIneficiencia').textContent = ineficiencia;
    document.getElementById('kpiTaller').textContent = taller;
    document.getElementById('kpiCorralon').textContent = corralon;
}

// POBLAR FILTROS
function populateFilters() {
    const clientes = [...new Set(vehiclesData.map(v => v.cliente))].sort();
    const marcas = [...new Set(vehiclesData.map(v => v.marca))].sort();
    const modelos = [...new Set(vehiclesData.map(v => v.modelo))].sort();
    const anos = [...new Set(vehiclesData.map(v => v.ano))].sort((a, b) => b - a);
    
    populateSelect('filterCliente', clientes);
    populateSelect('filterMarca', marcas);
    populateSelect('filterModelo', modelos);
    populateSelect('filterAno', anos);
}

function populateSelect(selectId, options) {
    const select = document.getElementById(selectId);
    options.forEach(option => {
        const opt = document.createElement('option');
        opt.value = option;
        opt.textContent = option;
        select.appendChild(opt);
    });
}

// RENDERIZAR TABLA
function renderTable(data) {
    const tbody = document.getElementById('tableBody');
    tbody.innerHTML = '';
    
    data.forEach(vehicle => {
        const row = tbody.insertRow();
        const mappedStatus = statusMapping[vehicle.status] || vehicle.status;
        
        row.innerHTML = `
            <td><strong>${vehicle.id}</strong></td>
            <td>${vehicle.cliente}</td>
            <td>${vehicle.comentario}</td>
            <td>${vehicle.chasis}</td>
            <td>${vehicle.marca}</td>
            <td>${vehicle.modelo}</td>
            <td>${vehicle.ano}</td>
            <td>${vehicle.uso}</td>
            <td><span class="status-badge status-${mappedStatus.toLowerCase().replace(' ', '-')}">${vehicle.status}</span></td>
            <td>${vehicle.aire}</td>
        `;
    });
    
    document.getElementById('rowCount').textContent = data.length;
}

// APLICAR FILTROS
function applyFilters() {
    const filterCliente = document.getElementById('filterCliente').value;
    const filterMarca = document.getElementById('filterMarca').value;
    const filterModelo = document.getElementById('filterModelo').value;
    const filterStatus = document.getElementById('filterStatus').value;
    const filterAno = document.getElementById('filterAno').value;
    
    filteredData = vehiclesData.filter(vehicle => {
        const matchCliente = !filterCliente || vehicle.cliente === filterCliente;
        const matchMarca = !filterMarca || vehicle.marca === filterMarca;
        const matchModelo = !filterModelo || vehicle.modelo === filterModelo;
        const matchStatus = !filterStatus || statusMapping[vehicle.status] === filterStatus;
        const matchAno = !filterAno || vehicle.ano == filterAno;
        
        return matchCliente && matchMarca && matchModelo && matchStatus && matchAno;
    });
    
    renderTable(filteredData);
    updateKPIs(filteredData);
}

// RESETEAR FILTROS
function resetFilters() {
    document.getElementById('filterCliente').value = '';
    document.getElementById('filterMarca').value = '';
    document.getElementById('filterModelo').value = '';
    document.getElementById('filterStatus').value = '';
    document.getElementById('filterAno').value = '';
    
    filteredData = [...vehiclesData];
    renderTable(vehiclesData);
    updateKPIs(vehiclesData);
}

// BUSCAR VEH√çCULO
function searchVehicle() {
    const searchValue = document.getElementById('searchInput').value.trim();
    const resultDiv = document.getElementById('searchResult');
    const resultTitle = document.getElementById('resultTitle');
    const resultDetails = document.getElementById('resultDetails');
    
    if (!searchValue) {
        resultDiv.classList.remove('show', 'error');
        return;
    }
    
    const vehicle = vehiclesData.find(v => v.id == searchValue);
    
    if (vehicle) {
        const mappedStatus = statusMapping[vehicle.status] || vehicle.status;
        resultDiv.classList.remove('error');
        resultDiv.classList.add('show');
        resultTitle.textContent = `‚úÖ Veh√≠culo ${vehicle.id} encontrado`;
        resultDetails.innerHTML = `
            <div class="search-result-item">
                <strong>Cliente</strong>
                <span>${vehicle.cliente}</span>
            </div>
            <div class="search-result-item">
                <strong>Marca</strong>
                <span>${vehicle.marca}</span>
            </div>
            <div class="search-result-item">
                <strong>Modelo</strong>
                <span>${vehicle.modelo}</span>
            </div>
            <div class="search-result-item">
                <strong>A√±o</strong>
                <span>${vehicle.ano}</span>
            </div>
            <div class="search-result-item">
                <strong>Status</strong>
                <span class="status-badge status-${mappedStatus.toLowerCase().replace(' ', '-')}">${vehicle.status}</span>
            </div>
            <div class="search-result-item">
                <strong>Uso</strong>
                <span>${vehicle.uso}</span>
            </div>
            <div class="search-result-item">
                <strong>Chasis</strong>
                <span>${vehicle.chasis}</span>
            </div>
            <div class="search-result-item">
                <strong>Aire Acond.</strong>
                <span>${vehicle.aire}</span>
            </div>
        `;
    } else {
        resultDiv.classList.add('show', 'error');
        resultTitle.textContent = `‚ùå Veh√≠culo ${searchValue} no encontrado`;
        resultDetails.innerHTML = '<p>No se encontr√≥ ning√∫n veh√≠culo con ese ID. Verifica el n√∫mero e intenta de nuevo.</p>';
    }
}

// B√öSQUEDA CON ENTER
document.getElementById('searchInput').addEventListener('keypress', function(e) {
    if (e.key === 'Enter') {
        searchVehicle();
    }
});

// √öLTIMA ACTUALIZACI√ìN
function updateLastUpdate() {
    const now = new Date();
    const formatted = now.toLocaleString('es-MX', {
        year: 'numeric',
        month: '2-digit',
        day: '2-digit',
        hour: '2-digit',
        minute: '2-digit'
    });
    document.getElementById('lastUpdate').textContent = formatted;
}

// DROPDOWNS NAVEGACI√ìN
function toggleDropdown(dropdownId) {
    const dropdown = document.getElementById(dropdownId);
    const allDropdowns = document.querySelectorAll('.dropdown');
    
    allDropdowns.forEach(d => {
        if (d.id !== dropdownId) {
            d.classList.remove('open');
        }
    });
    
    dropdown.classList.toggle('open');
}

document.addEventListener('click', function(event) {
    if (!event.target.closest('.dropdown')) {
        document.querySelectorAll('.dropdown').forEach(d => {
            d.classList.remove('open');
        });
    }
});

// INICIAR AL CARGAR
window.onload = init;
</script>

</body>
</html>
